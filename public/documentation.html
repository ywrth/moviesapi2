<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <link rel="stylesheet" href="styles.css">
    <title>Hot potatoes</title>
</head>

<body>
    <p>
        This app will provide users with access to information about different
        movies, directors, and genres. Users are able to sign up, update their
        personal information, and create a list of their favorite movies.
    </p>

    <h2>API Endpoints</h2>

<h3>Authentication</h3>

<h4>Login</h4>
<p>Authenticate a user and receive a JWT token.</p>
<table>
    <tr>
        <th>URL</th>
        <th>Method</th>
        <th>Request Body</th>
        <th>Response</th>
    </tr>
    <tr>
        <td>/login</td>
        <td>POST</td>
        <td>
            <code>Username</code>: String (required)<br>
            <code>Password</code>: String (required)
        </td>
        <td>
            <p>If successful:</p>
            <p>Status Code: 200</p>
            <p>Response Body: JSON object containing user data and JWT token</p>
            <p>If authentication fails:</p>
            <p>Status Code: 400</p>
            <p>Response Body: JSON object with an error message</p>
        </td>
    </tr>
</table>

<h3>Movies</h3>

        <!-- request all movies -->
        <tr>
            <td>GET</td>
            <td>/api/movies</td>
            <td>GET</td>
            <td>N/A</td>
            <td>N/A</td>
            <td>
                An array of objects representing all movies. Each object contains the following properties:
                <ul>
                    <li><code>_id</code>: String (movie's unique identifier)</li>
                    <li><code>title</code>: String (movie title)</li>
                    <li><code>description</code>: String (movie description)</li>
                    <li><code>genre</code>: String (genre name)</li>
                    <li><code>director</code>: String (director name)</li>
                    <li><code>imageUrl</code>: String (URL of the movie image)</li>
                    <li><code>featured</code>: Boolean (whether the movie is featured or not)</li>
                </ul>
            </td>
        </tr>

        <!-- Info on the movie-->
        <tr>
            <td>GET</td>
            <td>/api/movies/{id}</td>
            <td>GET</td>
            <td>N/A</td>
            <td>N/A</td>
            <td>
                An object representing a movie with the specified ID. The object contains the following properties:
                <ul>
                    <li><code>_id</code>: String (movie's unique identifier)</li>
                    <li><code>title</code>: String (movie title)</li>
                    <li><code>description</code>: String (movie description)</li>
                    <li><code>genre</code>: String (genre name)</li>
                    <li><code>director</code>: String (director name)</li>
                    <li><code>imageUrl</code>: String (URL of the movie image)</li>
                    <li><code>featured</code>: Boolean (whether the movie is featured or not)</li>
                </ul>
            </td>
        </tr>

        <!-- request genre by name -->
        <tr>
            <td>GET</td>
            <td>/api/genres/{name}</td>
            <td>GET</td>
            <td>N/A</td>
            <td>N/A</td>
            <td>
                An object representing the genre with the specified name. The object contains the following properties:
                <ul>
                    <li><code>_id</code>: String (genre's unique identifier)</li>
                    <li><code>name</code>: String (genre name)</li>
                    <li><code>description</code>: String (genre description)</li>
                </ul>
            </td>
        </tr>

        <!-- request director by name -->
        <tr>
            <td>GET</td>
            <td>/api/directors/{name}</td>
            <td>GET</td>
            <td>N/A</td>
            <td>N/A</td>
            <td>
                An object representing the director with the specified name. The object contains the following properties:
                <ul>
                    <li><code>_id</code>: String (director's unique identifier)</li>
                    <li><code>name</code>: String (director name)</li>
                    <li><code>bio</code>: String (director biography)</li>
                    <li><code>birthYear</code>: Number (director birth year)</li>
                </ul>
            </td>
        </tr>

        <h3>Users</h3>
        <!-- Register new user -->
        <tr>
            <td>POST</td>
            <td>/api/users</td>
            <td>POST</td>
            <td>N/A</td>
            <td>
                An object representing the user to be registered. The object should contain the following properties:
                <ul>
                    <li><code>name</code>: String (user's name)</li>
                    <li><code>favoriteMovies</code>: Array (user's favorite movies - an array of movie IDs)</li>
                </ul>
            </td>
            <td>
                The registered user object:
                <pre>
            {
                "_id": "user_id_here",
                "name": "Mary",
                "favoriteMovies": ["movie_id_1", "movie_id_2"],
            }
        </pre>
            </td>
        </tr>

        <!-- Update user info -->
        <tr>
            <td>PUT</td>
            <td>/api/users/{id}</td>
            <td>PUT</td>
            <td>N/A</td>
            <td>
                An object representing the updated user info. The object should contain the following properties:
                <ul>
                    <li><code>name</code>: String (updated user's name)</li>
                    <li><code>favoriteMovies</code>: Array (updated user's favorite movies - an array of movie IDs)</li>
                </ul>
            </td>
            <!-- Added the "Response Data" column -->
            <td>
                The updated user object:
                <!-- Added the example of response data -->
                <pre>
            {
                "_id": "user_id_here",
                "name": "Kim updated name",
                "favoriteMovies": ["movie_id_1"],
            }
        </pre>
            </td>
        </tr>

        <!-- Add movie to user's favorite -->
        <tr>
            <td>POST</td>
            <td>/api/users/{userId}/movies/{movieId}</td>
            <td>POST</td>
            <td>N/A</td>
            <td>
                N/A (No request body required; the movie ID is extracted from the URL)
            </td>
            <td>
                A text response indicating that the movie has been added to the user's favorites.
            </td>
        </tr>

        <!-- Remove movie from user's favorite -->
        <tr>
            <td>DELETE</td>
            <td>/api/users/{userId}/movies/{movieId}</td>
            <td>DELETE</td>
            <td>N/A</td>
            <td>N/A</td>
            <td>
                A text response indicating that the movie has been removed from the user's favorites.
            </td>
        </tr>

        <!-- Deregister existing user -->
        <tr>
            <td>DELETE</td>
            <td>/api/users/{id}</td>
            <td>DELETE</td>
            <td>N/A</td>
            <td>N/A</td>
            <td>
                A text response indicating that the user has been deregistered.
            </td>
        </tr>

        <h2>Important Note</h2>

    <p>All requests to routes that require JWT authentication should include the JWT token in the
        <code>Authorization</code> header as <code>Bearer &lt;token&gt;</code>.</p>
</body>

</html>
    </table>
</body>

</html>
